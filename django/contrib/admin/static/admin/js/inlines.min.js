var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,g=0;g<d;g++){var f=a[g];if(c.call(b,f,g,a))return{i:g,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var g=a[d];g in b||(b[g]={});b=b[g]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
(function(a){a.fn.formset=function(c){var b=a.extend({},a.fn.formset.defaults,c);c=a(this);var d=c.parent(),g=function(b,h,c){var e=new RegExp("("+h+"-(\\d+|__prefix__))");h=h+"-"+c;a(b).prop("for")&&a(b).prop("for",a(b).prop("for").replace(e,h));b.id&&(b.id=b.id.replace(e,h));b.name&&(b.name=b.name.replace(e,h))},f=a("#id_"+b.prefix+"-TOTAL_FORMS").prop("autocomplete","off"),l=parseInt(f.val(),10),h=a("#id_"+b.prefix+"-MAX_NUM_FORMS").prop("autocomplete","off"),e=a("#id_"+b.prefix+"-MIN_NUM_FORMS").prop("autocomplete",
"off"),m=function(a){""!==e.val()&&0<=e.val()-f.val()?a.find(".inline-deletelink").hide():a.find(".inline-deletelink").show()},p=function(c){c.preventDefault();var e=a(c.target).closest("."+b.formCssClass);c=e.closest(".inline-group");var d=e.prev();d.length&&d.hasClass("row-form-errors")&&d.remove();e.remove();--l;b.removed&&b.removed(e);a(document).trigger("formset:removed",[e,b.prefix]);e=a("."+b.formCssClass);a("#id_"+b.prefix+"-TOTAL_FORMS").val(e.length);(""===h.val()||0<h.val()-e.length)&&
k.parent().show();m(c);d=function(){g(this,b.prefix,f)};var f=0;for(c=e.length;f<c;f++)g(a(e).get(f),b.prefix,f),a(e.get(f)).find("*").each(d)},n=function(a){a.is("tr")?a.children(":last").append('<div><a class="'+b.deleteCssClass+'" href="#">'+b.deleteText+"</a></div>"):a.is("ul")||a.is("ol")?a.append('<li><a class="'+b.deleteCssClass+'" href="#">'+b.deleteText+"</a></li>"):a.children(":first").append('<span><a class="'+b.deleteCssClass+'" href="#">'+b.deleteText+"</a></span>");a.find("a."+b.deleteCssClass).on("click",
p.bind(this))};c.each(function(){a(this).not("."+b.emptyCssClass).addClass(b.formCssClass)});c.filter("."+b.formCssClass+":not(.has_original):not(."+b.emptyCssClass+")").each(function(){n(a(this))});m(c);var k=b.addButton;if(null===k)if("TR"===c.prop("tagName")){var q=this.eq(-1).children().length;d.append('<tr class="'+b.addCssClass+'"><td colspan="'+q+'"><a href="#">'+b.addText+"</a></tr>");k=d.find("tr:last a")}else c.filter(":last").after('<div class="'+b.addCssClass+'"><a href="#">'+b.addText+
"</a></div>"),k=c.filter(":last").next().find("a");k.on("click",function(c){c.preventDefault();c=a("#"+b.prefix+"-empty");var e=c.clone(!0);e.removeClass(b.emptyCssClass).addClass(b.formCssClass).attr("id",b.prefix+"-"+l);n(e);e.find("*").each(function(){g(this,b.prefix,f.val())});e.insertBefore(a(c));a(f).val(parseInt(f.val(),10)+1);l+=1;""!==h.val()&&0>=h.val()-f.val()&&k.parent().hide();m(e.closest(".inline-group"));b.added&&b.added(e);a(document).trigger("formset:added",[e,b.prefix])});d=""===
h.val()||0<h.val()-f.val();c.length&&d?k.parent().show():k.parent().hide();return this};a.fn.formset.defaults={prefix:"form",addText:"add another",deleteText:"remove",addCssClass:"add-row",deleteCssClass:"delete-row",emptyCssClass:"empty-row",formCssClass:"dynamic-form",added:null,removed:null,addButton:null};a.fn.tabularFormset=function(c,b){var d=a(this),g=function(b){a(c).not(".add-row").removeClass("row1 row2").filter(":even").addClass("row1").end().filter(":odd").addClass("row2")},f=function(){"undefined"!==
typeof SelectFilter&&(a(".selectfilter").each(function(a,b){a=b.name.split("-");SelectFilter.init(b.id,a[a.length-1],!1)}),a(".selectfilterstacked").each(function(a,b){a=b.name.split("-");SelectFilter.init(b.id,a[a.length-1],!0)}))},l=function(b){b.find(".prepopulated_field").each(function(){var c=a(this).find("input, select, textarea"),h=c.data("dependency_list")||[],d=[];a.each(h,function(a,c){d.push("#"+b.find(".field-"+c).find("input, select, textarea").attr("id"))});d.length&&c.prepopulate(d,
c.attr("maxlength"))})};d.formset({prefix:b.prefix,addText:b.addText,formCssClass:"dynamic-"+b.prefix,deleteCssClass:"inline-deletelink",deleteText:b.deleteText,emptyCssClass:"empty-form",removed:g,added:function(b){l(b);"undefined"!==typeof DateTimeShortcuts&&(a(".datetimeshortcuts").remove(),DateTimeShortcuts.init());f();g(b)},addButton:b.addButton});return d};a.fn.stackedFormset=function(c,b){var d=a(this),g=function(b){a(c).find(".inline_label").each(function(b){b+=1;a(this).html(a(this).html().replace(/(#\d+)/g,
"#"+b))})},f=function(){"undefined"!==typeof SelectFilter&&(a(".selectfilter").each(function(a,b){a=b.name.split("-");SelectFilter.init(b.id,a[a.length-1],!1)}),a(".selectfilterstacked").each(function(a,b){a=b.name.split("-");SelectFilter.init(b.id,a[a.length-1],!0)}))},l=function(b){b.find(".prepopulated_field").each(function(){var c=a(this).find("input, select, textarea"),d=c.data("dependency_list")||[],f=[];a.each(d,function(a,c){f.push("#"+b.find(".form-row .field-"+c).find("input, select, textarea").attr("id"))});
f.length&&c.prepopulate(f,c.attr("maxlength"))})};d.formset({prefix:b.prefix,addText:b.addText,formCssClass:"dynamic-"+b.prefix,deleteCssClass:"inline-deletelink",deleteText:b.deleteText,emptyCssClass:"empty-form",removed:g,added:function(b){l(b);"undefined"!==typeof DateTimeShortcuts&&(a(".datetimeshortcuts").remove(),DateTimeShortcuts.init());f();g(b)},addButton:b.addButton});return d};a(document).ready(function(){a(".js-inline-admin-formset").each(function(){var c=a(this).data(),b=c.inlineFormset;
switch(c.inlineType){case "stacked":c=b.name+"-group .inline-related";a(c).stackedFormset(c,b.options);break;case "tabular":c=b.name+"-group .tabular.inline-related tbody:first > tr.form-row",a(c).tabularFormset(c,b.options)}})})})(django.jQuery);
